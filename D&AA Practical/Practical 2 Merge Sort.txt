Algorithm MergeSort:

Input: n, array A[0..n-1]
Output: Sorted array A, total comparisons

comparisons ← 0
Read n
Create array A of size n
For i ← 0 to n-1 do
    Read A[i]
EndFor
For size ← 1 to n-1 step size*2 do
    For left ← 0 to n-1 step 2*size do
        
        mid ← left + size - 1
        right ← left + 2*size - 1
        
        If mid ≥ n-1 then
            Continue to next left
        EndIf
        
        If right ≥ n then
            right ← n-1
        EndIf
        
        i ← left
        j ← mid + 1
        k ← 0
        
        Create temp array of size (right - left + 1)
        While i ≤ mid AND j ≤ right do
            comparisons ← comparisons + 1
            
            If A[i] ≤ A[j] then
                temp[k] ← A[i]
                i ← i + 1
            Else
                temp[k] ← A[j]
                j ← j + 1
            EndIf
            k ← k + 1
        EndWhile
        
        While i ≤ mid do
            temp[k] ← A[i]
            i ← i + 1
            k ← k + 1
        EndWhile
        
        While j ≤ right do
            temp[k] ← A[j]
            j ← j + 1
            k ← k + 1
        EndWhile
        
        k ← 0
        For i ← left to right do
            A[i] ← temp[k]
            k ← k + 1
        EndFor
    EndFor
EndFor



Program Code:

//MERGE SORT
#include <stdio.h>

int main() {
    int n;

    printf("Enter number of elements: ");
    scanf("%d", &n);

    int arr[n];
    printf("Enter %d elements: ", n);
    for (int i = 0; i < n; i++) {
        scanf("%d", &arr[i]);
    }

    long long comparisons = 0;

    // ---------- MERGE SORT WITHOUT FUNCTIONS ----------
    int size, left, mid, right;

    for (size = 1; size < n; size = size * 2) {
        for (left = 0; left < n - 1; left += 2 * size) {

            mid = left + size - 1;
            right = left + 2 * size - 1;

            if (mid >= n - 1)
                continue;
            if (right >= n)
                right = n - 1;

            int i = left;
            int j = mid + 1;
            int k = 0;

            int temp[right - left + 1];

            while (i <= mid && j <= right) {
                comparisons++;    // counting comparison

                if (arr[i] <= arr[j]) {
                    temp[k++] = arr[i++];
                } else {
                    temp[k++] = arr[j++];
                }
            }

            while (i <= mid)
                temp[k++] = arr[i++];

            while (j <= right)
                temp[k++] = arr[j++];

            k = 0;
            for (i = left; i <= right; i++)
                arr[i] = temp[k++];
        }
    }
    // -----------------------------------------------------

    printf("\nSorted array: ");
    for (int i = 0; i < n; i++) {
        printf("%d ", arr[i]);
    }
    printf("\nTotal comparisons: %lld\n", comparisons);

    return 0;
}